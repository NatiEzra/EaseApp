Index: app/src/main/java/com/example/easeapp/ui/auth/MyProfileFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.ease.ui.auth\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Button\r\nimport android.widget.ImageView\r\nimport android.widget.ProgressBar\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.fragment.app.viewModels\r\nimport androidx.lifecycle.lifecycleScope\r\nimport com.example.ease.ui.activities.MainActivity\r\nimport com.example.ease.R\r\nimport com.example.ease.repositories.AuthRepository\r\nimport com.example.ease.model.User\r\nimport com.example.ease.model.local.AppDatabase\r\nimport com.example.ease.viewmodel.AuthViewModel\r\nimport com.example.ease.viewmodel.UserViewModel\r\nimport com.squareup.picasso.Picasso\r\nimport jp.wasabeef.picasso.transformations.CropCircleTransformation\r\nimport kotlinx.coroutines.launch\r\n\r\n// TODO: Rename parameter arguments, choose names that match\r\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\nprivate const val ARG_PARAM1 = \"param1\"\r\nprivate const val ARG_PARAM2 = \"param2\"\r\n\r\n/**\r\n * A simple [Fragment] subclass.\r\n * Use the [myProfileFragment.newInstance] factory method to\r\n * create an instance of this fragment.\r\n */\r\nclass myProfileFragment : Fragment() {\r\n    // TODO: Rename and change types of parameters\r\n    private var param1: String? = null\r\n    private var param2: String? = null\r\n    private lateinit var progressBar: ProgressBar\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        arguments?.let {\r\n            param1 = it.getString(ARG_PARAM1)\r\n            param2 = it.getString(ARG_PARAM2)\r\n        }\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment and check if the edit button is clicked\r\n        val view = inflater.inflate(R.layout.fragment_my_profile, container, false)\r\n        val editButton: TextView = view.findViewById(R.id.editButton)\r\n        editButton.setOnClickListener {\r\n            (activity as? MainActivity)?.editProfileButtonClicked()\r\n        }\r\n\r\n        val profileImage = view.findViewById<ImageView>(R.id.profileImage)\r\n        progressBar = view.findViewById(R.id.profileImageProgressBar)\r\n        val userViewModel: UserViewModel by viewModels()\r\n        val profileName = view.findViewById<TextView>(R.id.profileName)\r\n        val profileEmail=view.findViewById<TextView>(R.id.profileEmail)\r\n//        profileName.text = (activity as? MainActivity)?.getUserName()\r\n        val userDao = AppDatabase.getInstance(requireContext()).userDao()\r\n        progressBar.visibility = View.VISIBLE\r\n        profileImage.visibility=View.GONE\r\n        lifecycleScope.launch {\r\n\r\n            val user = userDao.getCurrentUser()\r\n            profileName.text = user?.name ?: \"Guest\"\r\n            profileEmail.text = user?.email ?: \"\"\r\n            var imageUrl = user?.profileImageUrl\r\n            imageUrl=fixImageUrl(imageUrl.toString())\r\n            if (imageUrl != null){\r\n                Picasso.get().load(imageUrl).transform(CropCircleTransformation()).into(profileImage)\r\n            }\r\n            else{\r\n                profileImage.setImageResource(R.drawable.account)\r\n            }\r\n\r\n            progressBar.visibility = View.GONE\r\n            profileImage.visibility=View.VISIBLE\r\n        }\r\n            /* userServer.getProfileImage { uri ->\r\n            if (uri != null) {\r\n\r\n                Picasso.get().load(uri).transform(CropCircleTransformation()).into(profileImage)\r\n                progressBar.visibility = View.GONE\r\n                profileImage.visibility=View.VISIBLE\r\n\r\n            }\r\n            else{\r\n                progressBar.visibility = View.GONE\r\n                profileImage.visibility=View.VISIBLE\r\n\r\n            }\r\n        }*/\r\n\r\n\r\n\r\n        val logOutbtn=view.findViewById<Button>(R.id.logoutButton)\r\n        val autViewModel: AuthViewModel by viewModels()\r\n        logOutbtn.setOnClickListener {\r\n            lifecycleScope.launch {\r\n                AppDatabase.getInstance(requireContext()).userDao().clear()\r\n            }\r\n            autViewModel.signOut()\r\n            Toast.makeText(context,\"You logged out, have a great day\", Toast.LENGTH_LONG).show()\r\n            (activity as? MainActivity)?.navigateToLogin()\r\n        }\r\n\r\n//        profileEmail.text = (activity as? MainActivity)?.getUserEmail()\r\n\r\n\r\n        return view\r\n    }\r\n\r\n    fun fixImageUrl(oldUrl: String): String {\r\n        return oldUrl.replace(\"http://localhost:\", \"http://10.0.2.2:\")\r\n    }\r\n\r\n    companion object {\r\n        /**\r\n         * Use this factory method to create a new instance of\r\n         * this fragment using the provided parameters.\r\n         *\r\n         * @param param1 Parameter 1.\r\n         * @param param2 Parameter 2.\r\n         * @return A new instance of fragment myProfileFragment.\r\n         */\r\n        // TODO: Rename and change types and number of parameters\r\n        @JvmStatic\r\n        fun newInstance(param1: String, param2: String) =\r\n            myProfileFragment().apply {\r\n                arguments = Bundle().apply {\r\n                    putString(ARG_PARAM1, param1)\r\n                    putString(ARG_PARAM2, param2)\r\n                }\r\n            }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/easeapp/ui/auth/MyProfileFragment.kt b/app/src/main/java/com/example/easeapp/ui/auth/MyProfileFragment.kt
--- a/app/src/main/java/com/example/easeapp/ui/auth/MyProfileFragment.kt	(revision 0cacfff2d5ecd6376616a8f5f87be6eea9b5ece9)
+++ b/app/src/main/java/com/example/easeapp/ui/auth/MyProfileFragment.kt	(date 1743951341090)
@@ -62,6 +62,9 @@
         val userViewModel: UserViewModel by viewModels()
         val profileName = view.findViewById<TextView>(R.id.profileName)
         val profileEmail=view.findViewById<TextView>(R.id.profileEmail)
+        val profileDateOfBirth = view.findViewById<TextView>(R.id.profileDateOfBirth)
+        val gender = view.findViewById<TextView>(R.id.profileGender)
+        val phone = view.findViewById<TextView>(R.id.profilePhone)
 //        profileName.text = (activity as? MainActivity)?.getUserName()
         val userDao = AppDatabase.getInstance(requireContext()).userDao()
         progressBar.visibility = View.VISIBLE
@@ -71,6 +74,8 @@
             val user = userDao.getCurrentUser()
             profileName.text = user?.name ?: "Guest"
             profileEmail.text = user?.email ?: ""
+            gender.text=user?.gender ?: ""
+            phone.text=user?.phone ?: ""
             var imageUrl = user?.profileImageUrl
             imageUrl=fixImageUrl(imageUrl.toString())
             if (imageUrl != null){
